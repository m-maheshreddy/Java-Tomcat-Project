
def getProjectName() {
    return 'JenkinsPipeline'
}

def getJDKVersion() {
    return 'jdk1.8.0_25'
}

def getMavenConfig() {
    return 'maven-config'
}

def getMavenLocation() {
    return 'M2_HOME'
}

pipeline {
    agent any
	
	 tools { 
        maven "maven_3.5.4" 
	jdk "JDK_8"	 
        }
	
    stages {
        stage ('Clone') {
            steps {
                git branch: 'master', url: "https://github.com/m-maheshreddy/Java-Tomcat-Project.git"
            }
        }
	    
	 stage('Maven Install') {
            steps {
                script {
                 bat 'mvn clean install'
		}
	      }
	  }   
	    
	    stage('Maven Deploy') {
            steps {
                script {
                // bat 'copy C:\Windows\System32\config\systemprofile\AppData\Local\Jenkins\.jenkins\workspace\java-tomcat-pipeline\webapp\target\webapp.war C:\Program Files\Apache Software Foundation\Tomcat 8.5\webapps\'
		 bat 'copy "C:\\Windows\\System32\\config\\systemprofile\\AppData\\Local\\Jenkins\\.jenkins\\workspace\\java-tomcat-pipeline\\webapp\\target\\webapp.war" "C:\\Program Files\\Apache Software Foundation\\Tomcat 8.5\\webapps\\"'	
		}
	      }
	  } 
		
	}

}
